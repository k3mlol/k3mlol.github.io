<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="introducetionhere I want to share the cyber security test method for my company when move to k8s. if you use the k8s correctly, the cyber security risk will be lower than the traditional IDC.ps: if yo">
<meta property="og:type" content="article">
<meta property="og:title" content="what security test need to do when move to k8s">
<meta property="og:url" content="https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/index.html">
<meta property="og:site_name" content="k3mloldeblog">
<meta property="og:description" content="introducetionhere I want to share the cyber security test method for my company when move to k8s. if you use the k8s correctly, the cyber security risk will be lower than the traditional IDC.ps: if yo">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-03-12T14:29:00.000Z">
<meta property="article:modified_time" content="2021-04-26T09:09:25.473Z">
<meta property="article:author" content="k3mlol">
<meta property="article:tag" content="security design,architecture,k8s">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>what security test need to do when move to k8s</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="k3mloldeblog" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/toollink">tool</a></li>
         
          <li><a href="/bloglink">blog</a></li>
         
          <li><a href="/bugbounty">bugbounty</a></li>
         
          <li><a href="/RedTeam">redteam</a></li>
         
          <li><a href="/investment">investment</a></li>
         
          <li><a href="/atom.xml">rss</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/npm-poison/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&text=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&is_video=false&description=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=what security test need to do when move to k8s&body=Check out this article: https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&name=what security test need to do when move to k8s&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&t=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#introducetion"><span class="toc-number">1.</span> <span class="toc-text">introducetion</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Infrastructure-security"><span class="toc-number">1.1.</span> <span class="toc-text">Infrastructure security</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#third-party-Component"><span class="toc-number">1.1.1.</span> <span class="toc-text">third party Component</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#application-support-component-and-service-security"><span class="toc-number">1.2.</span> <span class="toc-text">application(support) component and service security</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#devops"><span class="toc-number">1.2.1.</span> <span class="toc-text">devops</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#big-data"><span class="toc-number">1.2.2.</span> <span class="toc-text">big data</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#network-security-policy"><span class="toc-number">1.3.</span> <span class="toc-text">network security policy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#user-credential-check"><span class="toc-number">1.4.</span> <span class="toc-text">user credential check</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#k8s-core-endpoint-monitor"><span class="toc-number">1.5.</span> <span class="toc-text">k8s core endpoint monitor</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        what security test need to do when move to k8s
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">k3mloldeblog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-03-12T14:29:00.000Z" itemprop="datePublished">2021-03-12</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/security-design-architecture-k8s/" rel="tag">security design,architecture,k8s</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h3 id="introducetion"><a href="#introducetion" class="headerlink" title="introducetion"></a>introducetion</h3><p>here I want to share the cyber security test method for my company when move to k8s.</p>
<p>if you use the k8s correctly, the cyber security risk will be lower than the traditional IDC.<br>ps: if you found the difference between them is slight, maybe your company or security policy is wrong on using the k8s.</p>
<h4 id="Infrastructure-security"><a href="#Infrastructure-security" class="headerlink" title="Infrastructure security"></a>Infrastructure security</h4><p>this part is for the k8s security(endpoint security and the plugins(Component) security)</p>
<table>
<thead>
<tr>
<th align="center">component_name</th>
<th align="center">use</th>
<th align="center">open port</th>
<th align="center">visit url</th>
<th align="center">version</th>
</tr>
</thead>
<tbody><tr>
<td align="center">API Server</td>
<td align="center">API server</td>
<td align="center">8443</td>
<td align="center">https:/example.com:8443/</td>
<td align="center">2.0</td>
</tr>
</tbody></table>
<h5 id="third-party-Component"><a href="#third-party-Component" class="headerlink" title="third party Component"></a>third party Component</h5><table>
<thead>
<tr>
<th align="center">component_name</th>
<th align="center">use</th>
<th align="center">open port</th>
<th align="center">visit url</th>
<th align="center">version</th>
</tr>
</thead>
<tbody><tr>
<td align="center">API Server</td>
<td align="center">API server</td>
<td align="center">8443</td>
<td align="center">https:/example.com:8443/</td>
<td align="center">3.0</td>
</tr>
</tbody></table>
<hr>
<h4 id="application-support-component-and-service-security"><a href="#application-support-component-and-service-security" class="headerlink" title="application(support) component and service security"></a>application(support) component and service security</h4><ol>
<li>check the weak default credential</li>
<li>check the system whether exist the known vulnerability(CVE)</li>
<li>check the network policy(too much authority)<ul>
<li>cross the namespace</li>
<li>access the k8s mangament server</li>
</ul>
</li>
</ol>
<p>there will many support(devops,monitor,big data infrastructure(hadoop)) will desploy on k8s.<br>so you need to check the config is security or not</p>
<h5 id="devops"><a href="#devops" class="headerlink" title="devops"></a>devops</h5><table>
<thead>
<tr>
<th align="center">system_name</th>
<th align="center">use</th>
<th align="center">change credential or not</th>
<th align="center">visit url</th>
<th align="center">version</th>
</tr>
</thead>
<tbody><tr>
<td align="center">jenkis</td>
<td align="center">jenkins</td>
<td align="center">yes/no</td>
<td align="center"><a href="https://jenkis.example.com" target="_blank" rel="noopener">https://jenkis.example.com</a></td>
<td align="center">4.0</td>
</tr>
</tbody></table>
<h5 id="big-data"><a href="#big-data" class="headerlink" title="big data"></a>big data</h5><table>
<thead>
<tr>
<th align="center">system_name</th>
<th align="center">use</th>
<th align="center">change_credential_or_not</th>
<th align="center">visit url</th>
<th align="center">version</th>
</tr>
</thead>
<tbody><tr>
<td align="center">hadoop</td>
<td align="center">hadoop</td>
<td align="center">yes/no</td>
<td align="center"><a href="https://hadoop.example.com" target="_blank" rel="noopener">https://hadoop.example.com</a></td>
<td align="center">1.0</td>
</tr>
</tbody></table>
<hr>
<h4 id="network-security-policy"><a href="#network-security-policy" class="headerlink" title="network security policy"></a>network security policy</h4><p>there are two rules</p>
<ol>
<li>ban the pod connect the public network by default.</li>
<li>different namespaces pod can’t connect by default</li>
</ol>
<p>of course, there are some server can’t deslpoy on k8s for many reasons.<br>so the network policy should be careful.</p>
<h4 id="user-credential-check"><a href="#user-credential-check" class="headerlink" title="user credential check"></a>user credential check</h4><ol>
<li>the complexity of password should have.</li>
<li>the SSO server(LDAP) should log the user login(ip,time,UA)</li>
</ol>
<h4 id="k8s-core-endpoint-monitor"><a href="#k8s-core-endpoint-monitor" class="headerlink" title="k8s core endpoint monitor"></a>k8s core endpoint monitor</h4><p>if the k8s is compromised, all the pods can be took control. so keep monitor to the k8s core endpoint is quite important. especially the API server endpoint.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/toollink">tool</a></li>
         
          <li><a href="/bloglink">blog</a></li>
         
          <li><a href="/bugbounty">bugbounty</a></li>
         
          <li><a href="/RedTeam">redteam</a></li>
         
          <li><a href="/investment">investment</a></li>
         
          <li><a href="/atom.xml">rss</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#introducetion"><span class="toc-number">1.</span> <span class="toc-text">introducetion</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Infrastructure-security"><span class="toc-number">1.1.</span> <span class="toc-text">Infrastructure security</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#third-party-Component"><span class="toc-number">1.1.1.</span> <span class="toc-text">third party Component</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#application-support-component-and-service-security"><span class="toc-number">1.2.</span> <span class="toc-text">application(support) component and service security</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#devops"><span class="toc-number">1.2.1.</span> <span class="toc-text">devops</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#big-data"><span class="toc-number">1.2.2.</span> <span class="toc-text">big data</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#network-security-policy"><span class="toc-number">1.3.</span> <span class="toc-text">network security policy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#user-credential-check"><span class="toc-number">1.4.</span> <span class="toc-text">user credential check</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#k8s-core-endpoint-monitor"><span class="toc-number">1.5.</span> <span class="toc-text">k8s core endpoint monitor</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&text=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&is_video=false&description=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=what security test need to do when move to k8s&body=Check out this article: https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&title=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&name=what security test need to do when move to k8s&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=https://k3mlol.github.io/what-security-test-need-when-move-to-k8s/&t=what security test need to do when move to k8s" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 k3mlol
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/toollink">tool</a></li>
         
          <li><a href="/bloglink">blog</a></li>
         
          <li><a href="/bugbounty">bugbounty</a></li>
         
          <li><a href="/RedTeam">redteam</a></li>
         
          <li><a href="/investment">investment</a></li>
         
          <li><a href="/atom.xml">rss</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
